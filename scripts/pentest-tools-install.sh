#!/usr/bin/env bash

function gem_install() {
    _gem_packages=(haiti-hash)

    local GEM_INSTALL=$(sudo gem install ${_gem_packages[@]})
    if [[ $? != 0 ]]; then
        echo "Error: gem install error"
        echo ${GEM_INSTALL}
        exit 1
    fi
}

function tools_repos_download() {
    cd /opt

    # Téléchargement de cup
    sudo git clone https://github.com/Mebus/cupp.git

    # Téléchargement dirsearch
    sudo git clone https://github.com/maurosoria/dirsearch.git --depth 1

    # Téléchargement DNSCAN
    sudo git clone https://github.com/rbsec/dnscan.git
    
    # Téléchargement Sn1per
    sudo git clone https://github.com/1N3/Sn1per.git
}

function tools_install() {
    # Installation dnsscan
    sudo apt install pdns-tools

    # Installation metagoofil
    sudo apt install metagoofil
}

function main() {
    gem_install
    tools_repos_download
    tools_install
}

main
